{"version":3,"sources":["store/cart.js","components/Cart/CartItem.js","store/produce.js","components/Cart/Cart.js","components/Cart/index.js","components/ProduceList/ProduceDetails.js","components/ProduceList/ProduceList.js","components/ProduceList/index.js","App.js","store/index.js","index.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","INCREASE_COUNT","DECREASE_COUNT","SET_COUNT_VALUE","getAllCartItems","state","Object","values","cart","removeFromCart","id","type","CartItem","item","useState","count","setCount","dispatch","useDispatch","useEffect","className","name","value","onChange","e","target","onClick","POPULATE","LIKE","getAllProduce","produce","Cart","useSelector","cartItems","map","length","onSubmit","preventDefault","window","alert","join","ProduceDetails","liked","ProduceList","produceArr","App","showCart","setShowCart","produceData","style","marginRight","transform","rootReducer","combineReducers","action","likeState","newStateAdd","newStateRemove","newStateIncrease","newStateDecrease","newStateSetCount","store","preloadedState","createStore","enhancer","configureStore","Root","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ec30fbb.chunk.js","sourcesContent":["const ADD_TO_CART = 'cart/ADD_TO_CART';\nconst REMOVE_FROM_CART = 'cart/REMOVE_FROM_CART';\nconst INCREASE_COUNT = 'cart/INCREASE_COUNT';\nconst DECREASE_COUNT = 'cart/DECREASE_COUNT';\nconst SET_COUNT_VALUE = 'cart/SET_COUNT_VALUE';\n\nexport const getAllCartItems = (state) => Object.values(state.cart);\n\nexport const addToCart = (id) => {\n    return {\n        type: ADD_TO_CART,\n        id\n    };\n};\n\nexport const removeFromCart = (id) => {\n    return {\n        type: REMOVE_FROM_CART,\n        id\n    };\n};\n\nexport const increaseCount = (id) => {\n    return {\n        type: INCREASE_COUNT,\n        id\n    };\n};\n\nexport const decreaseCount = (id) => {\n    return {\n        type: DECREASE_COUNT,\n        id\n    };\n};\n\nexport const setCountValue = (id, value) => {\n    return {\n        type: SET_COUNT_VALUE,\n        id,\n        value\n    }\n}\n\n\nexport default function cartReducer(state = {}, action) {\n    switch (action.type) {\n\n        case ADD_TO_CART:\n            const newStateAdd = {\n                ...state\n            };\n            if (newStateAdd[action.id]) {\n                newStateAdd[action.id][\"count\"]++;\n            } else {\n                newStateAdd[action.id] = { id: action.id, count: 1 }\n            }\n            return newStateAdd;\n\n        case REMOVE_FROM_CART:\n            const newStateRemove = {...state}\n            delete newStateRemove[action.id]\n            return newStateRemove;\n\n        case INCREASE_COUNT:\n            const newStateIncrease = {...state}\n            newStateIncrease[action.id]['count']++;\n            return newStateIncrease;\n\n        case DECREASE_COUNT:\n            const newStateDecrease = {...state}\n            if (newStateDecrease[action.id]['count'] > 0) newStateDecrease[action.id]['count']--;\n            return newStateDecrease;\n\n        case SET_COUNT_VALUE:\n            const newStateSetCount = {...state}\n            newStateSetCount[action.id]['count'] = action.value;\n            return newStateSetCount;\n\n        default:\n            return state;\n    }\n}\n","import { useState, useEffect } from 'react';\nimport { removeFromCart, increaseCount, decreaseCount, setCountValue } from '../../store/cart';\nimport { useDispatch } from 'react-redux';\n\nfunction CartItem({ item }) {\n  const [count, setCount] = useState(item.count);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setCount(item.count);\n    if (item.count <= 0) dispatch(removeFromCart(item.id));\n  }, [dispatch, item.id, item.count]);\n\n  return (\n    <li className=\"cart-item\">\n      <div className=\"cart-item-header\">{item.name}</div>\n      <div className=\"cart-item-menu\">\n        <input\n          type=\"number\"\n          value={count}\n          onChange={(e) => dispatch(setCountValue(item.id, e.target.value))}\n        />\n        <button\n          className=\"cart-item-button\"\n          onClick={() => dispatch(increaseCount(item.id))}\n        >\n          +\n        </button>\n        <button\n          className=\"cart-item-button\"\n          onClick={() => dispatch(decreaseCount(item.id))}\n        >\n          -\n        </button>\n        <button\n          className=\"cart-item-button\"\n          onClick={() => dispatch(removeFromCart(item.id))}\n        >\n          Remove\n        </button>\n      </div>\n    </li>\n  );\n}\n\nexport default CartItem;\n","import produceData from '../mockData/produce.json';\n\nconst POPULATE = 'produce/POPULATE';\nconst LIKE = 'produce/LIKE'\n\nexport const getAllProduce = (state) => Object.values(state.produce);\n\nexport const populateProduce = () => {\n    return {\n        type: POPULATE,\n        produce: produceData\n    };\n};\n\nexport const like = (id) => {\n    return {\n        type: LIKE,\n        id\n    }\n}\n\nexport default function produceReducer(state = {}, action) {\n    switch (action.type) {\n        case POPULATE:\n            return {...action.produce};\n        case LIKE: \n            const likeState = {...state};\n            likeState[action.id - 1].liked = !likeState[action.id - 1].liked;\n            return likeState;\n        default:\n            return state;\n    };\n};\n","import CartItem from './CartItem';\nimport './Cart.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { removeFromCart } from '../../store/cart';\nimport { getAllProduce } from '../../store/produce';\nimport { getAllCartItems } from '../../store/cart';\n\nfunction Cart() {\n  // const cart = useSelector(state => state.cart)\n  // const produce = useSelector(state => state.produce);\n  const cart = useSelector(getAllCartItems);\n  const produce = useSelector(getAllProduce);\n\n  const dispatch = useDispatch();\n\n  const cartItems = Object.values(cart)\n    .map(item => {\n      return {\n        ...item,\n        ...produce[item.id - 1]\n      };\n    });\n\n  if (!cartItems || !cartItems.length) return (\n    <div className=\"cart\">\n      No items in the cart. Start selecting items to purchase.\n    </div>\n  );\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    window.alert(\n      \"Purchased the following:\\n\" +\n      `${cartItems.map(item => `${item.count} of ${item.name}`).join('\\n')}`\n    );\n    cartItems.map(item => dispatch(removeFromCart(item.id)));\n  }\n\n  return (\n    <div className=\"cart\">\n      <ul>\n        {cartItems.map(item => <CartItem key={item.id} item={item}/>)}\n      </ul>\n      <hr />\n      <form onSubmit={onSubmit}>\n        <button type=\"submit\">Purchase</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Cart;\n","import Cart from './Cart';\n\nexport default Cart;","import { addToCart } from '../../store/cart';\nimport { useDispatch } from 'react-redux';\nimport { like } from '../../store/produce';\n\nfunction ProduceDetails({ produce }) {\n  const cartItem = {};\n\n  const dispatch = useDispatch();\n\n  return (\n    <li className=\"produce-details\">\n      <span>{produce.name}</span>\n      <span>\n        <button\n          className={\"like-button\" + (produce.liked ? \" selected\" : \"\")}\n          onClick={(e) => dispatch(like(produce.id))}\n        >\n          <i className={\"fas fa-heart\"} />\n        </button>\n        <button\n          className={\"plus-button\" + (cartItem ? \" selected\" : \"\")}\n          onClick={() => dispatch(addToCart(produce.id))}\n        >\n        <i className=\"fas fa-plus\" />\n      </button>\n    </span>\n    </li >\n  );\n}\n\nexport default ProduceDetails;\n","import ProduceDetails from './ProduceDetails';\nimport './ProduceList.css';\nimport { useSelector } from 'react-redux';\nimport { getAllProduce } from '../../store/produce';\n\nfunction ProduceList() {\n  // const produce = useSelector(state => state.produce);\n  \n  // const produceArr = Object.values(produce);\n\n  const produceArr = useSelector(getAllProduce);\n\n  return (\n    <>\n      <h2>All produce</h2>\n      {!produceArr.length && <span>No produce available right now.</span>}\n      <ul className=\"produce-list\">\n        {produceArr.map((produce) => (\n          <ProduceDetails key={produce.id} produce={produce} />\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default ProduceList;\n","import ProduceList from './ProduceList';\n\nexport default ProduceList;","import { useEffect, useState } from 'react';\nimport Cart from './components/Cart';\nimport ProduceList from './components/ProduceList';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { populateProduce } from './store/produce';\nimport { getAllCartItems } from './store/cart';\n\nfunction App() {\n  const [showCart, setShowCart] = useState(false);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(populateProduce());\n  }, [dispatch]);\n\n  const cart = useSelector(getAllCartItems);\n  \n  useEffect(() => {\n    cart.length > 0 ? setShowCart(true) : setShowCart(false);\n  }, [cart])\n  \n  return (\n    <>\n      <nav>\n        <h1>Grocery Store</h1>\n        <button className=\"checkout-button\" onClick={() => setShowCart(true)}>\n          <i className=\"fas fa-shopping-bag\" />\n          Checkout\n        </button>\n      </nav>\n      <main style={showCart ? { marginRight: '300px' } : {}} >\n        <ProduceList />\n      </main>\n      <div\n        className=\"sidebar\"\n        style={showCart ? { transform: 'translateX(-100%)' } : {}}\n      >\n        <div className=\"sidebar-header\">\n          <button className=\"arrow-button\" onClick={() => setShowCart(false)}>\n            <i className=\"fas fa-arrow-right\"></i>\n          </button>\n        </div>\n        <Cart />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport produceReducer from \"./produce\";\nimport cartReducer from \"./cart\";\n\nconst rootReducer = combineReducers({\n    produce: produceReducer,\n    cart: cartReducer\n});\n\nlet enhancer;\n\nif (process.env.NODE_ENV !== \"production\") {\n  const logger = require(\"redux-logger\").default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(logger));\n}\n\nconst configureStore = (preloadedState) => {\n    return createStore(rootReducer, preloadedState, enhancer);\n  };\n  \nexport default configureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport configureStore from './store';\nimport { Provider } from 'react-redux';\nimport { populateProduce } from './store/produce';\n\nconst store = configureStore();\n\nif (process.env.NODE_ENV !== \"production\") {\n  window.store = store;\n  window.populateProduce = populateProduce;\n}\n\nfunction Root() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}